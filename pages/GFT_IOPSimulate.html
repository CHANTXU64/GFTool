<!DOCTYPE html>
<html lang="zh">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>少女前线-IOP建造模拟器 by 命运の乐章</title>

        <!-- Bootstrap Core CSS -->
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!-- MetisMenu CSS -->
        <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">
        <!-- Custom CSS -->
        <link href="../dist/css/sb-admin-2.css" rel="stylesheet">
        <!-- Morris Charts CSS -->
        <link href="../vendor/morrisjs/morris.css" rel="stylesheet">
        <!-- Custom Fonts -->
        <link href="../vendor/font-awesome/css/font-awesome.min.css"
            rel="stylesheet" type="text/css">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script type="text/javascript">
        window.onload = function () {
            var chart = document.getElementById("rankingChart");
            var tab = '点击 <span style="color:deepskyblue">建造</span> 按钮，结果将在这里显示';
            chart.innerHTML = tab;
        }
        function creatLogiData(ilevel, impw, iamm, irat, iprt, iitm1, iitm2, itime) {
            var logiData = new Object;
            logiData.level = ilevel;
            logiData.mpw = impw;
            logiData.amm = iamm;
            logiData.rat = irat;
            logiData.prt = iprt;
            logiData.itm1 = iitm1;
            logiData.itm2 = iitm2;
            logiData.time = itime;
            return logiData;
        }
        function setWeight1() {
            var Mw = document.getElementById('Mw'); Mw.value = 430;
            var Aw = document.getElementById('Aw'); Aw.value = 430;
            var Rw = document.getElementById('Rw'); Rw.value = 430;
            var Pw = document.getElementById('Pw'); Pw.value = 230;
        }
        function setWeight2() {
            var Mw = document.getElementById('Mw'); Mw.value = 130;
            var Aw = document.getElementById('Aw'); Aw.value = 130;
            var Rw = document.getElementById('Rw'); Rw.value = 130;
            var Pw = document.getElementById('Pw'); Pw.value = 130;
        }
        function setWeight3() {
            var Mw = document.getElementById('Mw'); Mw.value = 97;
            var Aw = document.getElementById('Aw'); Aw.value = 4;
            var Rw = document.getElementById('Rw'); Rw.value = 4;
            var Pw = document.getElementById('Pw'); Pw.value = 2;
        }
        function setWeight4() {
            var Mw = document.getElementById('Mw'); Mw.value = 4;
            var Aw = document.getElementById('Aw'); Aw.value = 1;
            var Rw = document.getElementById('Rw'); Rw.value = 4;
            var Pw = document.getElementById('Pw'); Pw.value = 2;
        }
        function setWeight5() {
            var Mw = document.getElementById('Mw'); Mw.value = 7;
            var Aw = document.getElementById('Aw'); Aw.value = 6;
            var Rw = document.getElementById('Rw'); Rw.value = 1;
            var Pw = document.getElementById('Pw'); Pw.value = 4;
        }
        function setWeight6() {
            var Mw = document.getElementById('Mw'); Mw.value = 6;
            var Aw = document.getElementById('Aw'); Aw.value = 2;
            var Rw = document.getElementById('Rw'); Rw.value = 6;
            var Pw = document.getElementById('Pw'); Pw.value = 4;
        }
        function setWeightH1() {
            var Mw = document.getElementById('Mw'); Mw.value = 6000;
            var Aw = document.getElementById('Aw'); Aw.value = 2000;
            var Rw = document.getElementById('Rw'); Rw.value = 6000;
            var Pw = document.getElementById('Pw'); Pw.value = 4000;
        }
        function setWeightH2() {
            var Mw = document.getElementById('Mw'); Mw.value = 6000;
            var Aw = document.getElementById('Aw'); Aw.value = 6000;
            var Rw = document.getElementById('Rw'); Rw.value = 6000;
            var Pw = document.getElementById('Pw'); Pw.value = 4000;
        }
        function obeyTime(TimeRequire, logiDataEntry) {
            if (logiDataEntry.time >= TimeRequire) {
                return true;
            } else {
                return false;
            }
        }
        function haveItem(it1, it2, logiDataEntry) {
            var validNum = 0;
            if (it1 === it2) {
                if (it1 === 0) {
                    validNum += 2;
                } else {
                    if ((logiDataEntry.itm1 === "人型契约" || logiDataEntry.itm2 === "人型契约") && it1 === 1) {
                        validNum += 2;
                    } else if ((logiDataEntry.itm1 === "装备契约" || logiDataEntry.itm2 === "装备契约") && it1 === 2) {
                        validNum += 2;
                    } else if ((logiDataEntry.itm1 === "快速建造" || logiDataEntry.itm2 === "快速建造") && it1 === 3) {
                        validNum += 2;
                    } else if ((logiDataEntry.itm1 === "快速修复" || logiDataEntry.itm2 === "快速修复") && it1 === 4) {
                        validNum += 2;
                    } else if ((logiDataEntry.itm1 === "采购币" || logiDataEntry.itm2 === "采购币") && it1 === 5) {
                        validNum += 2;
                    }
                }
            } else {
                if (it1 === 0 || it2 === 0) {
                    validNum++;
                }
                if ((logiDataEntry.itm1 === "人型契约") && (it1 === 1 || it2 === 1)) {
                    validNum++;
                } else if ((logiDataEntry.itm1 === "装备契约") && (it1 === 2 || it2 === 2)) {
                    validNum++;
                } else if ((logiDataEntry.itm1 === "快速建造") && (it1 === 3 || it2 === 3)) {
                    validNum++;
                } else if ((logiDataEntry.itm1 === "快速修复") && (it1 === 4 || it2 === 4)) {
                    validNum++;
                } else if ((logiDataEntry.itm1 === "采购币") && (it1 === 5 || it2 === 5)) {
                    validNum++;
                }
                if ((logiDataEntry.itm2 === "人型契约") && (it1 === 1 || it2 === 1)) {
                    validNum++;
                } else if ((logiDataEntry.itm2 === "装备契约") && (it1 === 2 || it2 === 2)) {
                    validNum++;
                } else if ((logiDataEntry.itm2 === "快速建造") && (it1 === 3 || it2 === 3)) {
                    validNum++;
                } else if ((logiDataEntry.itm2 === "快速修复") && (it1 === 4 || it2 === 4)) {
                    validNum++;
                } else if ((logiDataEntry.itm2 === "采购币") && (it1 === 5 || it2 === 5)) {
                    validNum++;
                }
            }
            if (validNum === 2) {
                return true;
            } else {
                return false;
            }
        }
        function getChart(logiList, it1, it2, it1_text, it2_text, TimeRequire) {
            var allEntry = 0;
            var listNum = 48;
            var chart = document.getElementById("rankingChart");
            var tab = '<table class="table table-striped table-bordered table-hover"><thead><tr><th>排行</th><th>关卡</th><th>人力/h</th><th>弹药/h</th><th>口粮/h</th><th>零件/h</th><th>道具1</th><th>道具2</th><th>时间(h)</th></tr></thead>';
            tab += '<tbody>';
            for (var i = 0; i < listNum && allEntry < 10; i++) {
                if (haveItem(it1, it2, logiList[i]) && obeyTime(TimeRequire, logiList[i])) {
                    tab += "<tr>";
                    tab += "<td>"; tab += ((allEntry + 1) + ""); tab += "</td>";
                    tab += "<td>"; tab += logiList[i].level; tab += "</td>";
                    tab += "<td>"; tab += (logiList[i].mpw + ""); tab += "</td>";
                    tab += "<td>"; tab += (logiList[i].amm + ""); tab += "</td>";
                    tab += "<td>"; tab += (logiList[i].rat + ""); tab += "</td>";
                    tab += "<td>"; tab += (logiList[i].prt + ""); tab += "</td>";
                    tab += "<td>"; tab += logiList[i].itm1; tab += "</td>";
                    tab += "<td>"; tab += logiList[i].itm2; tab += "</td>";
                    tab += "<td>"; tab += (logiList[i].time + ""); tab += "</td>";
                    tab += "</tr>";
                    allEntry++;
                }
            }
            tab += '</tbody></table>';
            if (allEntry === 0) {
                tab = "";
                if (it1_text != '无' && it2_text != '无') {
                    if (it1_text != it2_text) {
                        tab += '没有既包含 <span style="color:#FF0066">';
                        tab += it1_text;
                        tab += '</span> 又包含<span style="color:#FF0066"> ';
                        tab += it2_text;
                        tab += ' </span>并且时间长于 <span style="color:#FF0066">';
                        tab += TimeRequire;
                        tab += '</span> 小时的后勤条目';
                    } else {
                        tab += '没有包含 <span style="color:#FF0066">';
                        tab += it1_text;
                        tab += ' </span>并且时间长于 <span style="color:#FF0066">';
                        tab += TimeRequire;
                        tab += '</span> 小时的后勤条目';
                    }
                } else if (it1_text === '无' && it2_text === '无') {
                    tab += '没有时间长于 <span style="color:#FF0066">';
                    tab += TimeRequire;
                    tab += '</span> 小时的后勤条目';
                } else {
                    if (it1_text === '无') {
                        tab += '没有包含 <span style="color:#FF0066">';
                        tab += it2_text;
                        tab += ' </span>并且时间长于 <span style="color:#FF0066">';
                        tab += TimeRequire;
                        tab += '</span> 小时的后勤条目';
                    } else {
                        tab += '没有包含 <span style="color:#FF0066">';
                        tab += it1_text;
                        tab += ' </span>并且时间长于 <span style="color:#FF0066">';
                        tab += TimeRequire;
                        tab += '</span> 小时的后勤条目';
                    }
                }
            }
            chart.innerHTML = tab;
        }
        function getRanking() {
            var Mw = document.getElementById('Mw');
            var Aw = document.getElementById('Aw');
            var Rw = document.getElementById('Rw');
            var Pw = document.getElementById('Pw');
            var Tr = document.getElementById('Tr');
            var TimeRequire = parseFloat(Tr.value);
            var Itm1 = document.getElementById('ItemNeed1');
            var idx1 = Itm1.selectedIndex;
            var it1 = parseInt(Itm1[idx1].value);
            var it1_text = Itm1[idx1].text;
            var Itm2 = document.getElementById('ItemNeed2');
            var idx2 = Itm2.selectedIndex;
            var it2 = parseInt(Itm2[idx2].value);
            var it2_text = Itm2[idx2].text;
            var logiList = [];
            logiList.sort(function (a, b) {
                var weight1 = a.mpw * parseInt(Mw.value) + a.amm * parseInt(Aw.value) + a.rat * parseInt(Rw.value) + a.prt * parseInt(Pw.value);
                var weight2 = b.mpw * parseInt(Mw.value) + b.amm * parseInt(Aw.value) + b.rat * parseInt(Rw.value) + b.prt * parseInt(Pw.value);
                if (weight1 > weight2) {
                    return -1;
                }
                else if (weight1 === weight2) {
                    return 0;
                }
                else return 1;
            });
            getChart(logiList, it1, it2, it1_text, it2_text, TimeRequire);
        }
        </script>
    </head>

    <body>
        <div id="wrapper">

            <!-- Navigation -->
            <nav class="navbar navbar-default navbar-static-top"
                role="navigation" style="margin-bottom: 0">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle"
                        data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="welcome.html"><span
                            style="color:#FF0066">少女前线工具</span> by 命运の乐章 (Girls'
                        Frontline tools by FatalChapter)</a>
                </div>

                <!-- DropDown (up-right) -->
                <ul class="nav navbar-top-links navbar-right">
                    <!-- Drop down 1 (up-right) -->
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown"
                            href="#">
                            <i class="fa fa-exchange fa-fw"></i> <i class="fa
                                fa-caret-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-messages">
                            <li>
                                <a href="index.html">
                                    <div>
                                        <strong>少女前线工具</strong>
                                        <span class="pull-right text-muted">
                                            <em>Site#1</em>
                                        </span>
                                    </div>
                                    <div>Girls' Frontline tools</div>
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="index2.html">
                                    <div>
                                        <strong>技术类笔记</strong>
                                        <span class="pull-right text-muted">
                                            <em>Site#2</em>
                                        </span>
                                    </div>
                                    <div>Technical notes</div>
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="index3.html">
                                    <div>
                                        <strong>教程类</strong>
                                        <span class="pull-right text-muted">
                                            <em>Site#3</em>
                                        </span>
                                    </div>
                                    <div>Tutorials</div>
                                </a>
                            </li>
                        </ul>
                        <!-- /.dropdown-messages -->
                    </li>
                </ul>

                <!-- NaviBar (Left) -->
                <div class="navbar-default sidebar" role="navigation">
                    <div class="sidebar-nav navbar-collapse">
                        <ul class="nav" id="side-menu">
                            <li class="sidebar-search">
                                <div class="input-group custom-search-form">
                                    <input type="text" class="form-control"
                                        placeholder="Search...">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default"
                                            type="button">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </span>
                                </div>
                                <!-- /input-group -->
                            </li>

                            <!-- [NAVI]Home -->
                            <li>
                                <a href="index.html"><i class="fa fa-home
                                        fa-fw"></i> 主页 Home</a>
                            </li>
                            <!-- [NAVI]Gaming stratefy -->
                            <li>
                                <a href="GFT_Database.html"><i class="fa
                                        fa-book fa-fw"></i> 资料全集 GF database</a>
                            </li>
                            <!-- [NAVI]LogiRank -->
                            <li>
                                <a href="GFT_LogiRank.html"><i class="fa
                                        fa-briefcase fa-fw"></i> 后勤排序器 Logistics
                                    ranking</a>
                            </li>
                            <!-- [NAVI]LevelCal -->
                            <li>
                                <a href="GFT_LevelCal.html"><i class="fa
                                        fa-upload fa-fw"></i> 练级计算器 Levelup
                                    calculator</a>
                            </li>
                            <!-- [NAVI]IOPSimulate -->
                            <li>
                                <a href="GFT_IOPSimulate.html"><i class="fa
                                        fa-gears fa-fw"></i> 建造模拟器 IOP
                                    simulator</a>
                            </li>

                        </ul>
                    </div>
                    <!-- /.sidebar-collapse -->
                </div>
                <!-- /.navbar-static-side -->
            </nav>

            <!-- Main Pages -->
            <div id="page-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">建造模拟器(IOP Simulator)<span
                                    style="color:#FF0066">* 制作中未完工！</span></h1>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <p><span style="color:#FF0066">*娱乐用，请以游戏内容和实际人品为准</span></p>
                            <p>* For entertainment, please refer to the game
                                content and actual luck.</p>
                        </div>
                    </div>
                    <!-- /.row -->
                    <div class="row">
                        <!--Normal-->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse"
                                        data-parent="#accordion"
                                        href="#collapseOne">人形建造-普通(Normal
                                        T-doll produce)</a>
                                </h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse
                                collapse in">
                                <div class="panel-body">
                                    <!--Fast-->
                                    <div class="col-lg-12">
                                        <h4>快捷配比(Ratio templates)</h4>
                                        <p>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeight1()">430-430-430-230</button>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeight2()">130-130-130-130</button>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeight3()">97-404-404-97</button>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeight4()">430-130-430-230</button>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeight5()">430-430-130-230</button>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeight6()">730-630-130-430</button>
                                        </p>
                                    </div>
                                    <!--Resource-->
                                    <div class="col-lg-3">
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">人力(Manpower)&nbsp&nbsp</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=30
                                                id="Mw">
                                        </div>
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">口粮(Ration)&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=30
                                                id="Rw">
                                        </div>
                                    </div>
                                    <div class="col-lg-3">
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">弹药(Ammunition)</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=30
                                                id="Aw">
                                        </div>
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">零件(Parts)&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=30
                                                id="Pw">
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <p><button type="button" class="btn
                                                btn-info"
                                                onclick="getRanking()">建造(Produce)</button></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--Heavy-->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse"
                                        data-parent="#accordion"
                                        href="#collapseTwo">人形建造-重型(Heavy
                                        T-doll produce)</a>
                                </h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse
                                collapse">
                                <div class="panel-body">
                                    <!--Fast-->
                                    <div class="col-lg-12">
                                        <h4>快捷配比(Ratio templates)</h4>
                                        <p>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeightH1()">6000-2000-6000-4000</button>
                                            <button type="button" class="btn
                                                btn-default"
                                                onclick="setWeightH2()">6000-6000-6000-4000</button>
                                        </p>
                                    </div>
                                    <!--Resource-->
                                    <div class="col-lg-3">
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">人力(Manpower)&nbsp&nbsp</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=1000
                                                id="Mw">
                                        </div>
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">口粮(Ration)&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=1000
                                                id="Rw">
                                        </div>
                                    </div>
                                    <div class="col-lg-3">
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">弹药(Ammunition)</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=1000
                                                id="Aw">
                                        </div>
                                        <div class="form-group input-group">
                                            <span class="input-group-addon">零件(Parts)&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>
                                            <input type="text"
                                                class="form-control"
                                                placeholder="输入整数" value=1000
                                                id="Pw">
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <p><button type="button" class="btn
                                                btn-danger"
                                                onclick="getRanking()">建造(Produce)</button></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-lg-8">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    建造列表(Produce results)
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div class="table-responsive"
                                        id="rankingChart"></div>
                                    <!-- /.table-responsive -->
                                </div>
                                <!-- /.panel-body -->
                            </div>

                        </div>

                    </div>

                </div>
            </div>

        </div>
        <!-- /#wrapper -->

        <!-- jQuery -->
        <script src="../vendor/jquery/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

        <!-- Metis Menu Plugin JavaScript -->
        <script src="../vendor/metisMenu/metisMenu.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="../dist/js/sb-admin-2.js"></script>

    </body>

</html>